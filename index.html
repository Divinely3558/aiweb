<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jason主页</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link
      href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <!-- 引入自定义CSS -->
    <link rel="stylesheet" href="src/css/style.css" />
    <!-- Tailwind配置 -->
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              primary: "#165DFF",
              secondary: "#4080FF",
              accent: "#FF7D00",
              success: "#00B42A",
              warning: "#FF7D00",
              danger: "#F53F3F",
              dark: {
                100: "#F2F3F5",
                200: "#E5E6EB",
                300: "#C9CDD4",
                400: "#86909C",
                500: "#4E5969",
                600: "#272E3B",
                700: "#1D2129",
                800: "#0A0C10",
              },
            },
            fontFamily: {
              sans: ["Inter", "system-ui", "sans-serif"],
            },
          },
        },
      };
    </script>
    <!-- 移除原有 <style> 和 <script> 标签 -->
  </head>

  <body
    class="light bg-gray-50 text-gray-800 dark:bg-dark-700 dark:text-gray-100 min-h-screen flex flex-col"
  >
    <!-- 背景图容器 -->
    <div
      id="background-container"
      class="fixed inset-0 z-0 transition-all-custom"
    >
      <img
        id="background-image"
        src="https://picsum.photos/id/1002/1920/1080"
        alt="默认背景图"
        class="w-full h-full object-cover opacity-40 dark:opacity-20"
      />
      <div
        class="absolute inset-0 bg-gradient-to-b from-black/10 to-black/30 dark:from-black/30 dark:to-black/50"
      ></div>
    </div>

    <!-- 主容器 -->
    <div class="container mx-auto px-4 py-8 relative z-10 flex-grow">
      <!-- 顶部工具栏 -->
      <header class="mb-8 animate-fadeIn">
        <div
          class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4"
        >
          <div class="flex items-center gap-2">
            <h1 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-primary">
              <i class="fa fa-home mr-2"></i>jason
            </h1>
            <span
              id="minimal-mode-indicator"
              class="hidden px-2 py-1 bg-accent/10 text-accent text-sm rounded-full"
            >
              <i class="fa fa-compress mr-1"></i>极简模式
            </span>
          </div>

          <div class="flex items-center gap-3">
            <!-- 搜索引擎切换 -->
            <div class="relative">
              <select
                id="search-engine"
                class="appearance-none bg-white/80 dark:bg-dark-600/80 backdrop-blur border border-gray-200 dark:border-dark-500 rounded-lg px-4 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all-custom"
              >
                <option value="baidu">百度搜索</option>
                <option value="bing">必应搜索</option>
              </select>
              <i
                class="fa fa-chevron-down absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"
              ></i>
            </div>

            <!-- 背景设置按钮 -->
            <button
              id="bg-settings-btn"
              class="p-2 bg-white/80 dark:bg-dark-600/80 backdrop-blur rounded-lg hover:bg-white dark:hover:bg-dark-500 transition-all-custom"
            >
              <i class="fa fa-image text-gray-600 dark:text-gray-300"></i>
            </button>

            <!-- 主题切换按钮 -->
            <button
              id="theme-toggle"
              class="p-2 bg-white/80 dark:bg-dark-600/80 backdrop-blur rounded-lg hover:bg-white dark:hover:bg-dark-500 transition-all-custom"
            >
              <i class="fa fa-moon-o dark:hidden text-gray-600"></i>
              <i class="fa fa-sun-o hidden dark:inline text-gray-300"></i>
            </button>

            <!-- 极简模式切换 -->
            <button
              id="minimal-mode-toggle"
              class="p-2 bg-white/80 dark:bg-dark-600/80 backdrop-blur rounded-lg hover:bg-white dark:hover:bg-dark-500 transition-all-custom"
            >
              <i class="fa fa-compress text-gray-600 dark:text-gray-300"></i>
            </button>
          </div>
        </div>

        <!-- 搜索栏 -->
        <div class="mt-6 relative max-w-3xl w-full mx-auto">
          <form id="search-form" class="relative">
            <input
              type="text"
              id="search-input"
              placeholder="输入搜索内容..."
              class="w-full px-5 py-3 pr-12 rounded-xl bg-white/90 dark:bg-dark-600/90 backdrop-blur border border-gray-200 dark:border-dark-500 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all-custom shadow-sm"
            />
            <button
              type="submit"
              class="absolute right-3 top-1/2 -translate-y-1/2 p-1.5 bg-primary text-white rounded-lg hover:bg-primary/90 transition-all-custom"
            >
              <i class="fa fa-search"></i>
            </button>
          </form>

          <!-- 搜索历史 -->
          <div
            id="search-history"
            class="hidden mt-2 bg-white/90 dark:bg-dark-600/90 backdrop-blur rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-dark-500"
          >
            <div
              class="p-2 flex justify-between items-center border-b border-gray-200 dark:border-dark-500"
            >
              <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400">
                搜索历史
              </h3>
              <button
                id="clear-history"
                class="text-xs text-primary hover:text-primary/80"
              >
                清空
              </button>
            </div>
            <ul id="history-list" class="max-h-48 overflow-y-auto">
              <!-- 搜索历史项将通过JS动态添加 -->
            </ul>
          </div>
        </div>
      </header>

      <!-- 收藏栏 -->
      <section
        id="bookmarks-section"
        class="mt-4 bg-white/80 dark:bg-dark-600/80 backdrop-blur rounded-2xl p-5 shadow-md border border-gray-200 dark:border-dark-500 transition-all-custom animate-slideIn"
      >
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-bold flex items-center">
            <i class="fa fa-star text-primary mr-2"></i>收藏栏
          </h2>
          <div class="flex gap-2">
            <button
              id="bookmark-batch-actions"
              class="bg-gray-100 dark:bg-dark-500 hover:bg-gray-200 dark:hover:bg-dark-400 py-1.5 px-3 rounded-lg text-sm transition-all-custom flex items-center"
            >
              <i class="fa fa-cog mr-1"></i>批量操作
            </button>
            <button
              id="add-bookmark-btn"
              class="bg-primary/10 hover:bg-primary/20 text-primary py-1.5 px-3 rounded-lg text-sm transition-all-custom flex items-center"
            >
              <i class="fa fa-plus mr-1"></i>添加收藏
            </button>
          </div>
        </div>

        <!-- 批量操作工具栏 (默认隐藏) -->
        <div
          id="batch-operations"
          class="hidden mb-4 p-3 bg-gray-50 dark:bg-dark-500/50 rounded-lg border border-gray-200 dark:border-dark-400"
        >
          <div class="flex flex-wrap gap-2">
            <button
              id="select-all"
              class="px-3 py-1.5 text-sm bg-gray-100 dark:bg-dark-500 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-400 transition-all-custom"
            >
              <i class="fa fa-check-square-o mr-1"></i>全选
            </button>
            <button
              id="deselect-all"
              class="px-3 py-1.5 text-sm bg-gray-100 dark:bg-dark-500 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-400 transition-all-custom"
            >
              <i class="fa fa-square-o mr-1"></i>取消全选
            </button>
            <button
              id="batch-delete"
              class="px-3 py-1.5 text-sm bg-danger/10 text-danger rounded-lg hover:bg-danger/20 transition-all-custom"
            >
              <i class="fa fa-trash mr-1"></i>批量删除
            </button>
            <button
              id="exit-batch"
              class="px-3 py-1.5 text-sm bg-gray-100 dark:bg-dark-500 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-400 transition-all-custom ml-auto"
            >
              <i class="fa fa-times mr-1"></i>退出
            </button>
          </div>
        </div>

        <!-- 收藏列表 -->
        <div
          id="bookmarks-container"
          class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-3"
        >
          <!-- 收藏项将通过JS动态添加 -->
          <div id="empty-bookmarks" class="col-span-full py-16 text-center">
            <i
              class="fa fa-bookmark-o text-4xl text-gray-300 dark:text-gray-600 mb-3"
            ></i>
            <p class="text-gray-500 dark:text-gray-400">
              暂无收藏，添加你的常用网站吧！
            </p>
          </div>
        </div>
      </section>
    </div>

    <!-- 页脚 -->
    <footer
      class="mt-auto py-4 text-center text-sm text-gray-500 dark:text-gray-400 relative z-10"
    >
      <p>
        © 2023 jason主页 | 最后更新:
        <span id="last-updated">2023-10-01</span>
      </p>
    </footer>

    <!-- 模态框：添加/编辑收藏 -->
    <div
      id="bookmark-modal"
      class="fixed inset-0 z-50 flex items-center justify-center hidden"
    >
      <div
        class="absolute inset-0 bg-black/50 backdrop-blur-sm"
        id="modal-overlay"
      ></div>
      <div
        class="relative bg-white dark:bg-dark-600 rounded-2xl shadow-xl w-full max-w-md p-6 transform transition-all-custom"
      >
        <button
          id="close-bookmark-modal"
          class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"
        >
          <i class="fa fa-times"></i>
        </button>

        <h3 class="text-xl font-bold mb-4" id="bookmark-modal-title">
          添加收藏
        </h3>

        <form id="bookmark-form" class="space-y-4">
          <input type="hidden" id="bookmark-id" />

          <div>
            <label
              for="bookmark-name"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >名称</label
            >
            <input
              type="text"
              id="bookmark-name"
              placeholder="输入网站名称..."
              class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-dark-400 bg-white dark:bg-dark-700 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all-custom"
              required
            />
          </div>

          <div>
            <label
              for="bookmark-url"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >网址</label
            >
            <input
              type="url"
              id="bookmark-url"
              placeholder="https://example.com"
              class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-dark-400 bg-white dark:bg-dark-700 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all-custom"
              required
            />
          </div>

          <div>
            <label
              for="bookmark-icon"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >图标</label
            >
            <div class="flex gap-2">
              <input
                type="text"
                id="bookmark-icon"
                placeholder="fa-heart"
                class="flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-dark-400 bg-white dark:bg-dark-700 focus:outline-none focus:ring-2 focus:ring-primary/50 transition-all-custom"
                required
              />
              <div
                class="flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 dark:border-dark-400 bg-gray-100 dark:bg-dark-500"
              >
                <i id="icon-preview" class="fa fa-link text-gray-500"></i>
              </div>
            </div>
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-1">
              使用Font Awesome图标名称，如"fa-google"
            </p>
          </div>

          <div class="flex gap-2 pt-2">
            <button
              type="submit"
              class="flex-1 bg-primary hover:bg-primary/90 text-white py-2 px-4 rounded-lg transition-all-custom"
            >
              保存
            </button>
            <button
              type="button"
              id="delete-bookmark-btn"
              class="hidden px-4 py-2 bg-danger text-white rounded-lg hover:bg-danger/90 transition-all-custom"
            >
              删除
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- 模态框：背景设置 -->
    <div
      id="bg-modal"
      class="fixed inset-0 z-50 flex items-center justify-center hidden"
    >
      <div
        class="absolute inset-0 bg-black/50 backdrop-blur-sm"
        id="bg-modal-overlay"
      ></div>
      <div
        class="relative bg-white dark:bg-dark-600 rounded-2xl shadow-xl w-full max-w-md p-6 transform transition-all-custom"
      >
        <button
          id="close-bg-modal"
          class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"
        >
          <i class="fa fa-times"></i>
        </button>

        <h3 class="text-xl font-bold mb-4">背景设置</h3>

        <div class="space-y-4">
          <div>
            <label
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >默认背景</label
            >
            <div class="grid grid-cols-3 gap-2">
              <div
                class="bg-gray-200 dark:bg-dark-500 rounded-lg overflow-hidden cursor-pointer bg-option"
                data-bg="https://picsum.photos/id/1002/1920/1080"
              >
                <img
                  src="https://picsum.photos/id/1002/300/200"
                  alt="背景选项1"
                  class="w-full h-20 object-cover"
                />
              </div>
              <div
                class="bg-gray-200 dark:bg-dark-500 rounded-lg overflow-hidden cursor-pointer bg-option"
                data-bg="https://picsum.photos/id/1015/1920/1080"
              >
                <img
                  src="https://picsum.photos/id/1015/300/200"
                  alt="背景选项2"
                  class="w-full h-20 object-cover"
                />
              </div>
              <div
                class="bg-gray-200 dark:bg-dark-500 rounded-lg overflow-hidden cursor-pointer bg-option"
                data-bg="https://picsum.photos/id/1018/1920/1080"
              >
                <img
                  src="https://picsum.photos/id/1018/300/200"
                  alt="背景选项3"
                  class="w-full h-20 object-cover"
                />
              </div>
            </div>
          </div>

          <div>
            <label
              for="bg-upload"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
              >上传本地图片</label
            >
            <div
              class="border-2 border-dashed border-gray-300 dark:border-dark-400 rounded-lg p-4 text-center hover:bg-gray-50 dark:hover:bg-dark-500 transition-all-custom"
            >
              <input
                type="file"
                id="bg-upload"
                accept="image/*"
                class="hidden"
              />
              <label for="bg-upload" class="cursor-pointer">
                <i class="fa fa-upload text-2xl text-gray-400 mb-2"></i>
                <p class="text-sm text-gray-500 dark:text-gray-400">
                  点击或拖拽图片到此处上传
                </p>
              </label>
            </div>
          </div>

          <div class="pt-2">
            <button
              id="reset-bg"
              class="w-full py-2 px-4 border border-gray-300 dark:border-dark-400 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-500 transition-all-custom"
            >
              恢复默认背景
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 确认对话框 -->
    <div
      id="confirm-dialog"
      class="fixed inset-0 z-50 flex items-center justify-center hidden"
    >
      <div
        class="absolute inset-0 bg-black/50 backdrop-blur-sm"
        id="confirm-overlay"
      ></div>
      <div
        class="relative bg-white dark:bg-dark-600 rounded-2xl shadow-xl w-full max-w-md p-6 transform transition-all-custom"
      >
        <h3 class="text-xl font-bold mb-2" id="confirm-title">确认操作</h3>
        <p class="text-gray-600 dark:text-gray-300 mb-4" id="confirm-message">
          你确定要执行此操作吗？
        </p>

        <div class="flex gap-2">
          <button
            id="confirm-cancel"
            class="flex-1 py-2 px-4 border border-gray-300 dark:border-dark-400 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-500 transition-all-custom"
          >
            取消
          </button>
          <button
            id="confirm-ok"
            class="flex-1 py-2 px-4 bg-danger text-white rounded-lg hover:bg-danger/90 transition-all-custom"
          >
            确认
          </button>
        </div>
      </div>
    </div>

    <!-- 通知提示 -->
    <div
      id="notification"
      class="fixed bottom-4 right-4 max-w-sm p-4 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all-custom z-50 flex items-center gap-3"
    >
      <i
        id="notification-icon"
        class="fa fa-check-circle text-success text-xl"
      ></i>
      <div>
        <h4 id="notification-title" class="font-medium"></h4>
        <p
          id="notification-message"
          class="text-sm text-gray-600 dark:text-gray-300"
        ></p>
      </div>
      <button
        id="close-notification"
        class="ml-auto text-gray-400 hover:text-gray-600 dark:hover:text-gray-200"
      >
        <i class="fa fa-times"></i>
      </button>
    </div>

    </script>
    <!-- 引入外部JS -->
    <script src="src/js/script.js"></script>
  </body>
</html>
