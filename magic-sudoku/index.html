<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>魔法数独 | 神秘数字谜题</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 本地SVG图标替代Font Awesome CDN -->
    <style>
      .svg-icon {
        width: 1em;
        height: 1em;
        display: inline-block;
        vertical-align: middle;
        margin-right: 0.5em;
      }
    </style>
    <!-- SVG Sprite 图标集 -->
    <div style="display: none">
      <svg xmlns="http://www.w3.org/2000/svg" style="display: none">
        <symbol id="fa-refresh" viewBox="0 0 512 512">
          <path
            d="M479.6,342.9c-17.4,1.8-34.9-5-44.8-20.4l-32-32c-12.5-12.5-12.5-32.8,0-45.3s32.8-12.5,45.3,0l79.1,79.1c62.6-63.4,99.6-149.7,99.6-242.7C576,70.1,495.9,0,400,0S224,70.1,224,156c0,102.3,49.3,199.3,127.3,261.7c12.8,9.6,13.6,28.2,2.1,40.6C343.7,468.7,321.2,480,296,480c-141.4,0-256-114.6-256-256S154.6,0,296,0s256,114.6,256,256C552,288.8,539.8,338.7,479.6,342.9z"
          />
        </symbol>
        <symbol id="fa-check" viewBox="0 0 512 512">
          <path
            d="M173.898,439.404l-166.4-166.4c-9.997-9.997-9.997-26.206,0-36.204l36.203-36.204c9.997-9.998,26.207-9.998,36.204,0L192,312.69,432.095,72.596c9.997-9.997,26.207-9.997,36.204,0l36.203,36.204c9.997,9.998,9.997,26.206,0,36.204l-294.4,294.401C200.103,449.402,183.892,449.402,173.898,439.404z"
          />
        </symbol>
        <symbol id="fa-info-circle" viewBox="0 0 512 512">
          <path
            d="M256,8C119,8,8,119,8,256s111,248,248,248s248-111,248-248S393,8,256,8z M256,464c-114.6,0-208-93.4-208-208S141.4,48,256,48s208,93.4,208,208S370.6,464,256,464z"
          />
          <path
            d="M256,128c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S273.7,128,256,128z M296,384H216c-17.7,0-32-14.3-32-32v-16c0-17.7,14.3-32,32-32h80c17.7,0,32,14.3,32,32v16C328,369.7,313.7,384,296,384z"
          />
        </symbol>
        <symbol id="fa-eraser" viewBox="0 0 512 512">
          <path
            d="M432,160H96v256h336V160z M448,96H96c-17.7,0-32,14.3-32,32v288c0,17.7,14.3,32,32,32h352c17.7,0,32-14.3,32-32V128 C480,110.3,465.7,96,448,96z"
          />
          <path
            d="M320,304c0-17.7-14.3-32-32-32s-32,14.3-32,32s14.3,32,32,32S320,321.7,320,304z"
          />
        </symbol>
        <symbol id="fa-times" viewBox="0 0 512 512">
          <path
            d="M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5 c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9 c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z"
          />
        </symbol>
        <symbol id="fa-trophy" viewBox="0 0 512 512">
          <path
            d="M464,256H448V208c0-8.8-7.2-16-16-16h-48V144c0-8.8-7.2-16-16-16h-32c-8.8,0-16,7.2-16,16v48H192V144c0-8.8-7.2-16-16-16H144 c-8.8,0-16,7.2-16,16v48H80c-8.8,0-16,7.2-16,16v48H48C21.5,256,0,277.5,0,304v48h512v-48C512,277.5,490.5,256,464,256z M480,336H32v-16 c0-8.8,7.2-16,16-16h32v-32h64v32h96v-32h96v32h64v32h32C472.8,320,480,328.8,480,336z M256,480c-70.7,0-128-57.3-128-128 s57.3-128,128-128s128,57.3,128,128S326.7,480,256,480z"
          />
        </symbol>
      </svg>
    </div>
    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              gold: "#D4AF37",
              goldLight: "#F0E68C",
              parchment: "#F5F1E2",
              darkMagic: "#1A1409",
              shadowMagic: "#3A2E18",
              error: "#FFEEEE",
              success: "#E6FFEE",
            },
            fontFamily: {
              magic: ["Garamond", "Georgia", "Times New Roman", "serif"],
              numbers: ["Palatino", "Georgia", "serif"],
            },
          },
        },
      };
    </script>

    <!-- 外部CSS引用 -->
    <link rel="stylesheet" href="src/css/style.css" />
  </head>
  <body
    class="bg-darkMagic text-shadow min-h-screen font-magic relative overflow-x-hidden"
  >
    <!-- 背景装饰元素 -->
    <div class="fixed inset-0 z-0 opacity-10 pointer-events-none">
      <div
        class="absolute top-10 left-10 w-40 h-40 rounded-full border border-gold"
      ></div>
      <div
        class="absolute bottom-20 right-20 w-60 h-60 rounded-full border border-gold"
      ></div>
      <div
        class="absolute top-1/3 right-1/4 w-20 h-20 rounded-full border border-gold"
      ></div>
    </div>

    <!-- 主容器 -->
    <div class="container mx-auto px-4 py-8 relative z-10">
      <!-- 标题区域 -->
      <header class="text-center mb-8 md:mb-12 bounce-in">
        <h1
          class="text-[clamp(2.5rem,5vw,4rem)] font-bold text-gold text-shadow-gold mb-2"
        >
          魔法数独
        </h1>
        <p
          class="text-parchment/80 text-[clamp(1rem,2vw,1.25rem)] max-w-2xl mx-auto"
        >
          解开古老羊皮纸上的数字谜题，展现你的智慧与洞察力
        </p>
      </header>

      <!-- 主要游戏区域 -->
      <main
        class="flex flex-col md:flex-row gap-8 items-center md:items-start justify-center"
      >
        <!-- 数独棋盘 -->
        <div class="relative">
          <div
            class="absolute -inset-4 bg-gold/20 rounded-lg blur-xl opacity-70"
          ></div>
          <div
            class="relative bg-parchment/80 rounded-lg p-3 md:p-6 shadow-2xl border-2 border-gold"
          >
            <div
              id="sudoku-board"
              class="grid grid-cols-9 gap-0 w-[min(90vw,500px)] h-[min(90vw,500px)]"
            >
              <!-- 数独单元格将通过JavaScript动态生成 -->
            </div>
          </div>
        </div>

        <!-- 控制面板 -->
        <div
          class="w-full md:w-80 bg-parchment/70 rounded-lg p-6 shadow-xl border border-gold/50 bounce-in"
          style="animation-delay: 0.2s"
        >
          <h2
            class="text-2xl font-bold text-darkMagic mb-4 text-center border-b border-gold/30 pb-2"
          >
            魔法控制
          </h2>

          <!-- 难度选择 -->
          <div class="mb-6">
            <label class="block text-shadow text-darkMagic mb-2">难度:</label>
            <div class="flex gap-2">
              <button
                id="easy"
                class="difficulty-btn flex-1 bg-gold/20 hover:bg-gold/40 text-darkMagic py-2 px-3 rounded transition-all active"
              >
                简单
              </button>
              <button
                id="medium"
                class="difficulty-btn flex-1 bg-gold/20 hover:bg-gold/40 text-darkMagic py-2 px-3 rounded transition-all"
              >
                中等
              </button>
              <button
                id="hard"
                class="difficulty-btn flex-1 bg-gold/20 hover:bg-gold/40 text-darkMagic py-2 px-3 rounded transition-all"
              >
                困难
              </button>
            </div>
          </div>

          <!-- 游戏状态 -->
          <div
            class="mb-6 p-3 bg-darkMagic/10 rounded-lg border border-gold/30"
          >
            <h3 class="text-darkMagic font-semibold mb-1">游戏状态</h3>
            <p id="status-message" class="text-darkMagic/80">准备开始新游戏</p>
          </div>

          <!-- 功能按钮 -->
          <div class="flex flex-col gap-3 mb-6">
            <button
              id="new-game"
              class="bg-gold hover:bg-goldLight text-darkMagic font-bold py-3 px-4 rounded transition-all transform hover:scale-105 flex items-center justify-center gap-2"
            >
              <!-- <svg class="svg-icon" href="src/img/fa-refresh.svg"></svg>
               <img src="src/img/home-icon.svg" alt="首页" class="mr-2 w-20 h-20"> -->
              <img src="src/img/fa-refresh.svg" class="mr-2 w-7 h-7" />
              新的游戏
            </button>
            <button
              id="check-solution"
              class="bg-shadowMagic hover:bg-darkMagic text-parchment font-bold py-3 px-4 rounded transition-all transform hover:scale-105 flex items-center justify-center gap-2"
            >
              <img src="src/img/fa-check.svg" class="mr-2 w-7 h-7" />
              检查答案
            </button>
            <button
              id="show-rules"
              class="bg-transparent border border-gold/50 hover:border-gold text-darkMagic hover:text-gold font-bold py-3 px-4 rounded transition-all flex items-center justify-center gap-2"
            >
              <!-- <svg class="svg-icon">
                <use xlink:href="#fa-info-circle"></use>
              </svg> -->
              <img src="src/img/fa-info-circle.svg" class="mr-2 w-7 h-7" />
              数独规则
            </button>
          </div>

          <!-- 移动端数字键盘 -->
          <div class="md:hidden grid grid-cols-3 gap-2 mb-4">
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              1
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              2
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              3
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              4
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              5
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              6
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              7
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              8
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              9
            </button>
          </div>

          <div class="md:hidden">
            <button
              id="clear-btn"
              class="w-full bg-error/50 hover:bg-error/80 text-darkMagic font-bold py-3 rounded transition-all"
            >
              <svg class="svg-icon"><use xlink:href="#fa-eraser"></use></svg>
              清除
            </button>
          </div>
        </div>
      </main>

      <!-- 页脚 -->
      <footer class="mt-12 text-center text-parchment/60 text-sm">
        <p>魔法数独 &copy; 2023 - 用智慧解开神秘谜题</p>
      </footer>
    </div>

    <!-- 规则说明模态框 -->
    <div
      id="rules-modal"
      class="fixed inset-0 bg-darkMagic/80 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300"
    >
      <div
        class="bg-parchment rounded-lg p-6 max-w-md w-full mx-4 transform scale-95 transition-transform duration-300"
      >
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-bold text-darkMagic">数独规则</h2>
          <button
            id="close-rules"
            class="text-darkMagic/70 hover:text-darkMagic text-2xl transition-colors"
          >
            <svg class="svg-icon"><use xlink:href="#fa-times"></use></svg>
          </button>
        </div>
        <div class="text-darkMagic space-y-3">
          <p>
            数独是一个9x9的数字谜题，目标是在每个单元格中填入1-9的数字，同时满足以下规则：
          </p>
          <ul class="list-disc pl-5 space-y-2">
            <li>每一行必须包含1-9的所有数字，不能重复</li>
            <li>每一列必须包含1-9的所有数字，不能重复</li>
            <li>每个3x3的小九宫格必须包含1-9的所有数字，不能重复</li>
          </ul>
          <p>游戏开始时，棋盘上已填有部分数字，你需要填满剩余的空格。</p>
          <p>使用键盘或屏幕数字键输入数字，方向键可以导航棋盘。</p>
        </div>
        <button
          id="close-rules-btn"
          class="mt-6 w-full bg-gold hover:bg-goldLight text-darkMagic font-bold py-2 px-4 rounded transition-all"
        >
          明白了
        </button>
      </div>
    </div>

    <!-- 完成庆祝模态框 -->
    <div
      id="celebration-modal"
      class="fixed inset-0 bg-darkMagic/90 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-500"
    >
      <div
        class="bg-parchment rounded-lg p-8 max-w-md w-full mx-4 transform scale-95 transition-transform duration-500 text-center"
      >
        <div class="mb-4 text-gold text-5xl celebrate">
          <svg width="3rem" height="3rem">
            <use xlink:href="#fa-trophy"></use>
          </svg>
        </div>
        <h2 class="text-3xl font-bold text-darkMagic mb-2">恭喜你！</h2>
        <p class="text-xl text-darkMagic mb-6">
          你成功解开了这个魔法数独谜题！
        </p>
        <p id="completion-time" class="text-darkMagic/80 mb-6">
          用时: <span id="time-value">00:00</span>
        </p>
        <button
          id="new-game-after-win"
          class="w-full bg-gold hover:bg-goldLight text-darkMagic font-bold py-3 px-4 rounded transition-all transform hover:scale-105 mb-3"
        >
          开始新游戏
        </button>
        <button
          id="close-celebration"
          class="w-full bg-transparent border border-gold/50 hover:border-gold text-darkMagic hover:text-gold py-2 px-4 rounded transition-all"
        >
          关闭
        </button>
      </div>
    </div>

    <!-- 外部JavaScript引用 -->
    <script src="src/js/script.js"></script>
  </body>
</html>
