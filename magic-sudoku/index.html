<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>魔法数独 | 神秘数字谜题</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 本地SVG图标替代Font Awesome CDN -->
    <style>
      .svg-icon {
        width: 1em;
        height: 1em;
        display: inline-block;
        vertical-align: middle;
        margin-right: 0.5em;
      }
    </style>

    <!-- 配置Tailwind自定义颜色和字体 -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              gold: "#D4AF37",
              goldLight: "#F0E68C",
              parchment: "#F5F1E2",
              darkMagic: "#1A1409",
              shadowMagic: "#3A2E18",
              error: "#FFEEEE",
              success: "#E6FFEE",
            },
            fontFamily: {
              magic: ["Garamond", "Georgia", "Times New Roman", "serif"],
              numbers: ["Palatino", "Georgia", "serif"],
            },
          },
        },
      };
    </script>

    <!-- 外部CSS引用 -->
    <link rel="stylesheet" href="src/css/style.css" />
  </head>
  <body
    class="bg-darkMagic text-shadow min-h-screen font-magic relative overflow-x-hidden"
  >
    <!-- 背景装饰元素 -->
    <div class="fixed inset-0 z-0 opacity-10 pointer-events-none">
      <div
        class="absolute top-10 left-10 w-40 h-40 rounded-full border border-gold"
      ></div>
      <div
        class="absolute bottom-20 right-20 w-60 h-60 rounded-full border border-gold"
      ></div>
      <div
        class="absolute top-1/3 right-1/4 w-20 h-20 rounded-full border border-gold"
      ></div>
    </div>

    <!-- 主容器 -->
    <div class="container mx-auto px-4 py-8 relative z-10">
      <!-- 标题区域 -->
      <header class="text-center mb-8 md:mb-12 bounce-in">
        <h1
          class="text-[clamp(2.5rem,5vw,4rem)] font-bold text-gold text-shadow-gold mb-2"
        >
          魔法数独
        </h1>
        <p
          class="text-parchment/80 text-[clamp(1rem,2vw,1.25rem)] max-w-2xl mx-auto"
        >
          解开古老羊皮纸上的数字谜题，展现你的智慧与洞察力
        </p>
      </header>

      <!-- 主要游戏区域 -->
      <main
        class="flex flex-col md:flex-row gap-8 items-center md:items-start justify-center"
      >
        <!-- 数独棋盘 -->
        <div class="relative">
          <div
            class="absolute -inset-4 bg-gold/20 rounded-lg blur-xl opacity-70"
          ></div>
          <div
            class="relative bg-parchment/80 rounded-lg p-3 md:p-6 shadow-2xl border-2 border-gold"
          >
            <div
              id="sudoku-board"
              class="grid grid-cols-9 gap-0 w-[min(90vw,500px)] h-[min(90vw,500px)]"
            >
              <!-- 数独单元格将通过JavaScript动态生成 -->
            </div>
          </div>
        </div>

        <!-- 控制面板 -->
        <div
          class="w-full md:w-80 bg-parchment/70 rounded-lg p-6 shadow-xl border border-gold/50 bounce-in"
          style="animation-delay: 0.2s"
        >
          <h2
            class="text-2xl font-bold text-darkMagic mb-4 text-center border-b border-gold/30 pb-2"
          >
            魔法控制
          </h2>

          <!-- 难度选择 -->
          <div class="mb-6">
            <label class="block text-shadow text-darkMagic mb-2">难度:</label>
            <div class="flex gap-2">
              <button
                id="easy"
                class="difficulty-btn flex-1 bg-gold/20 hover:bg-gold/40 text-darkMagic py-2 px-3 rounded transition-all active"
              >
                简单
              </button>
              <button
                id="medium"
                class="difficulty-btn flex-1 bg-gold/20 hover:bg-gold/40 text-darkMagic py-2 px-3 rounded transition-all"
              >
                中等
              </button>
              <button
                id="hard"
                class="difficulty-btn flex-1 bg-gold/20 hover:bg-gold/40 text-darkMagic py-2 px-3 rounded transition-all"
              >
                困难
              </button>
            </div>
          </div>

          <!-- 游戏状态 -->
          <div
            class="mb-6 p-3 bg-darkMagic/10 rounded-lg border border-gold/30"
          >
            <h3 class="text-darkMagic font-semibold mb-1">游戏状态</h3>
            <p id="status-message" class="text-darkMagic/80">准备开始新游戏</p>
          </div>

          <!-- 功能按钮 -->
          <div class="flex flex-col gap-3 mb-6">
            <button
              id="new-game"
              class="bg-gold hover:bg-goldLight text-darkMagic font-bold py-3 px-4 rounded transition-all transform hover:scale-105 flex items-center justify-center gap-2"
            >
              <!-- <svg class="svg-icon" href="src/img/fa-refresh.svg"></svg>
               <img src="src/img/home-icon.svg" alt="首页" class="mr-2 w-20 h-20"> -->
              <img src="src/img/fa-refresh.svg" class="mr-2 w-7 h-7" />
              新的游戏
            </button>
            <button
              id="check-solution"
              class="bg-shadowMagic hover:bg-darkMagic text-parchment font-bold py-3 px-4 rounded transition-all transform hover:scale-105 flex items-center justify-center gap-2"
            >
              <img src="src/img/fa-check.svg" class="mr-2 w-7 h-7" />
              检查答案
            </button>
            <button
              id="show-rules"
              class="bg-transparent border border-gold/50 hover:border-gold text-darkMagic hover:text-gold font-bold py-3 px-4 rounded transition-all flex items-center justify-center gap-2"
            >
              <img src="src/img/fa-info-circle.svg" class="mr-2 w-7 h-7" />
              数独规则
            </button>
          </div>

          <!-- 移动端数字键盘 -->
          <div class="md:hidden grid grid-cols-3 gap-2 mb-4">
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              1
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              2
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              3
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              4
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              5
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              6
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              7
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              8
            </button>
            <button
              class="num-btn bg-gold/10 hover:bg-gold/30 text-darkMagic py-3 rounded text-xl transition-all"
            >
              9
            </button>
          </div>

          <div class="md:hidden">
            <button
              id="clear-btn"
              class="w-full bg-error/50 hover:bg-error/80 text-darkMagic font-bold py-3 rounded transition-all"
            >
              清除
            </button>
          </div>
        </div>
      </main>

      <!-- 页脚 -->
      <footer class="mt-12 text-center text-parchment/60 text-sm">
        <p>魔法数独 &copy; 2023 - 用智慧解开神秘谜题</p>
      </footer>
    </div>

    <!-- 规则说明模态框 -->
    <div
      id="rules-modal"
      class="fixed inset-0 bg-darkMagic/80 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300"
    >
      <div
        class="bg-parchment rounded-lg p-6 max-w-md w-full mx-4 transform scale-95 transition-transform duration-300"
      >
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-bold text-darkMagic">数独规则</h2>
          <button
            id="close-rules"
            class="text-darkMagic/70 hover:text-darkMagic text-2xl transition-colors"
          >
            <img src="src/img/fa-times.svg" class="mr-2 w-7 h-7" />
          </button>
        </div>
        <div class="text-darkMagic space-y-3">
          <p>
            数独是一个9x9的数字谜题，目标是在每个单元格中填入1-9的数字，同时满足以下规则：
          </p>
          <ul class="list-disc pl-5 space-y-2">
            <li>每一行必须包含1-9的所有数字，不能重复</li>
            <li>每一列必须包含1-9的所有数字，不能重复</li>
            <li>每个3x3的小九宫格必须包含1-9的所有数字，不能重复</li>
          </ul>
          <p>游戏开始时，棋盘上已填有部分数字，你需要填满剩余的空格。</p>
          <p>使用键盘或屏幕数字键输入数字，方向键可以导航棋盘。</p>
        </div>
        <button
          id="close-rules-btn"
          class="mt-6 w-full bg-gold hover:bg-goldLight text-darkMagic font-bold py-2 px-4 rounded transition-all"
        >
          明白了
        </button>
      </div>
    </div>

    <!-- 完成庆祝模态框 -->
    <div
      id="celebration-modal"
      class="fixed inset-0 bg-darkMagic/90 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-500"
    >
      <div
        class="bg-parchment rounded-lg p-8 max-w-md w-full mx-4 transform scale-95 transition-transform duration-500 text-center"
      >
        <div class="mb-4 text-gold text-5xl celebrate">
          <img src="src/img/fa-trophy.svg" class="mr-2 w-7 h-7" />
        </div>
        <h2 class="text-3xl font-bold text-darkMagic mb-2">恭喜你！</h2>
        <p class="text-xl text-darkMagic mb-6">
          你成功解开了这个魔法数独谜题！
        </p>
        <p id="completion-time" class="text-darkMagic/80 mb-6">
          用时: <span id="time-value">00:00</span>
        </p>
        <button
          id="new-game-after-win"
          class="w-full bg-gold hover:bg-goldLight text-darkMagic font-bold py-3 px-4 rounded transition-all transform hover:scale-105 mb-3"
        >
          开始新游戏
        </button>
        <button
          id="close-celebration"
          class="w-full bg-transparent border border-gold/50 hover:border-gold text-darkMagic hover:text-gold py-2 px-4 rounded transition-all"
        >
          关闭
        </button>
      </div>
    </div>

    <!-- 外部JavaScript引用 -->
    <script src="src/js/script.js"></script>
  </body>
</html>
